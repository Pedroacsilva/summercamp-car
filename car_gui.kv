#:import Factory kivy.factory.Factory

<MyGrid>:
  

GridLayout:
    rows: 3
    spacing: 10

    SpeedMeter:
        id: speed
        max: speed_value.max
        tick: 20
        start_angle: -120
        end_angle: 120
        subtick: 5
        label: 'Km/h'
        value: speed_value.value
        cadran_color: '#0f0f0f'
        needle_color: '#ff0000'
        sectors: (0, '#ffffff')

    SpeedMeter:
        id: rpm
        max: 8
        tick: 1
        start_angle: -120
        end_angle: 120
        subtick: 4
        label: 'rpm'
        sectors: [0, '#000000', 6, '#ffff00', 7, '#ff0000', 8]
        sector_width: 5

    Slider:
        id: speed_value
        max: 200
        size_hint_y: None
        height: sp(28)
        on_value: app.set_speed()
        on_value: root.ids.mylabel.text = "Driving"

    Label:
        text: str(speed.value)
        
    Label:
        id:mylabel
        text: "Car Status"

    Button:
        text: 'Parking Brake'
        background_color: 0.1, 0.5, 0.6, 1
        on_press: app.btn('1') # aqui se for app.btn('0') destrava
        on_press: root.ids.mylabel.text = "Parking Brake on" if app.btn('1') == 1 else "Parking Brake OFF"
        on_release: 
            print("Parking Brake ON!")
        on_press:

    